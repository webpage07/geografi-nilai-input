<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Waktu Mundur + Kolom Pengumuman</title>
  <style>
    :root{--bg:#f4f7fb;--card:#ffffff;--accent:#1f6feb;--muted:#6b7280}
    html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial}
    body{background:linear-gradient(180deg,#eef5ff 0%,var(--bg) 100%);display:flex;align-items:center;justify-content:center;padding:24px}

    /* layout */
    .wrapper{width:100%;max-width:1100px;background:transparent;display:flex;gap:28px;align-items:stretch}

    /* main area (center) */
    .main{flex:1;display:flex;align-items:center;justify-content:center}
    .countdown-card{background:var(--card);padding:36px;border-radius:14px;box-shadow:0 8px 20px rgba(28,45,80,0.08);min-width:360px;text-align:center}
    .title{font-size:18px;color:var(--muted);margin-bottom:12px}
    .time{display:flex;gap:12px;justify-content:center;align-items:center}
    .time > .unit{background:#f8fafc;padding:18px 22px;border-radius:10px;min-width:84px}
    .value{font-size:36px;font-weight:700;color:#0f172a;line-height:1}
    .label{font-size:12px;color:var(--muted);margin-top:6px}
    .small-note{font-size:13px;color:var(--muted);margin-top:14px}

    /* sidebar announcement */
    .sidebar{width:320px;flex:0 0 320px}
    .panel{background:var(--card);padding:18px;border-radius:12px;box-shadow:0 6px 18px rgba(28,45,80,0.06)}
    .panel h3{margin:0 0 8px 0;font-size:16px}
    .ann-list{margin:10px 0 0 0;padding:0;list-style:none;display:flex;flex-direction:column;gap:10px}
    .ann{padding:12px;border-radius:8px;background:#fbfdff;border:1px solid rgba(15,23,42,0.03)}
    .ann .meta{font-size:12px;color:var(--muted);margin-bottom:6px}
    .ann .text{font-size:14px;color:#0f172a}

    /* responsive */
    @media (max-width:880px){
      .wrapper{flex-direction:column;align-items:stretch}
      .sidebar{width:100%;flex:unset}
      .main{order:0}
    }
  </style>
</head>
<body>
  <div class="wrapper">
    <main class="main">
      <section class="countdown-card" id="countdownCard" aria-live="polite">
        <div class="title">Sistem Nilai Online Geografi di TUTUP</div>
        <h2 id="targetTitle" style="margin:0 0 16px 0">akan dibuka kembali dalam</h2>

        <div class="time" id="timeBoxes">
          <div class="unit">
            <div class="value" id="days">0</div>
            <div class="label">Hari</div>
          </div>
          <div class="unit">
            <div class="value" id="hours">00</div>
            <div class="label">Jam</div>
          </div>
          <div class="unit">
            <div class="value" id="minutes">00</div>
            <div class="label">Menit</div>
          </div>
          <div class="unit">
            <div class="value" id="seconds">00</div>
            <div class="label">Detik</div>
          </div>
        </div>

        <div class="small-note">Waktu server online digunakan.</div>
      </section>
    </main>

    <aside class="sidebar">
      <div class="panel">
        <h3>Pengumuman</h3>
        <div style="font-size:13px;color:var(--muted)">Informasi terbaru & penting</div>

        <ul class="ann-list" id="annList">
          <li class="ann"><div class="meta">01 Okt 2025</div><div class="text">link dibuka pada 3 Oktober 2025 pukul 08.00 WIB.</div></li>
          <li class="ann"><div class="meta">01-03 Okt 2025</div><div class="text">Pekan Sumatif harian 2 Geografi Kelas XII.</div></li>
          <li class="ann"><div class="meta">06-10 Okt 2025</div><div class="text">Pekan Sumatif harian 2 Geografi Kelas X 1-5.</div></li>
        </ul>
      </div>
    </aside>
  </div>

  <script>
    const daysEl = document.getElementById('days');
    const hoursEl = document.getElementById('hours');
    const minutesEl = document.getElementById('minutes');
    const secondsEl = document.getElementById('seconds');
    const targetTitle = document.getElementById('targetTitle');

    // Ambil waktu online dari server NTP publik (via API worldtime)
    async function getServerTime(){
      try {
        const res = await fetch('https://worldtimeapi.org/api/timezone/Asia/Jakarta');
        const data = await res.json();
        return new Date(data.utc_datetime);
      } catch(e){
        return new Date(); // fallback local time
      }
    }

    // ====== ATUR TANGGAL TUJUAN DI SINI ======
    const targetDate = "2025-10-03T08:00:00+07:00"; // ganti sesuai kebutuhan

    let target;

    async function init(){
      target = new Date(targetDate);
      startTimer();
    }

    let timerId = null;

    async function updateClock() {
      const now = await getServerTime();
      let diff = Math.max(0, target - now);

      const d = Math.floor(diff / (1000*60*60*24));
      diff -= d * (1000*60*60*24);
      const h = Math.floor(diff / (1000*60*60));
      diff -= h * (1000*60*60);
      const m = Math.floor(diff / (1000*60));
      diff -= m * (1000*60);
      const s = Math.floor(diff / 1000);

      daysEl.textContent = d;
      hoursEl.textContent = String(h).padStart(2,'0');
      minutesEl.textContent = String(m).padStart(2,'0');
      secondsEl.textContent = String(s).padStart(2,'0');

      if (target - now <= 0) {
        clearInterval(timerId);
        timerId = null;
        document.getElementById('countdownCard').classList.add('done');
        targetTitle.textContent = 'Waktu telah tiba!';
      }
    }

    function startTimer(){
      if(timerId) return;
      updateClock();
      timerId = setInterval(()=>{ updateClock(); },1000);
    }

    init();
  </script>
</body>
</html>
